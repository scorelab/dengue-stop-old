{"ast":null,"code":"import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React from 'react';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { withNavigation } from '@react-navigation/core';\nexport default function createNavigationAwareScrollable(Component) {\n  var _class, _temp;\n\n  var ComponentWithNavigationScrolling = withNavigation((_temp = _class = function (_React$PureComponent) {\n    _inherits(_class, _React$PureComponent);\n\n    function _class() {\n      _classCallCheck(this, _class);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(_class).apply(this, arguments));\n    }\n\n    _createClass(_class, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this = this;\n\n        this._subscription = this.props.navigation.addListener('refocus', function () {\n          var scrollableNode = _this.getNode();\n\n          if (_this.props.navigation.isFocused() && scrollableNode !== null) {\n            if (scrollableNode.scrollToTop != null) {\n              scrollableNode.scrollToTop();\n            } else if (scrollableNode.scrollTo != null) {\n              scrollableNode.scrollTo({\n                y: 0\n              });\n            } else if (scrollableNode.scrollResponderScrollTo != null) {\n              scrollableNode.scrollResponderScrollTo({\n                y: 0\n              });\n            }\n          }\n        });\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        if (this._subscription != null) {\n          this._subscription.remove();\n        }\n      }\n    }, {\n      key: \"getNode\",\n      value: function getNode() {\n        if (this._scrollRef === null) {\n          return null;\n        }\n\n        if (this._scrollRef.getScrollResponder) {\n          return this._scrollRef.getScrollResponder();\n        } else if (this._scrollRef.getNode) {\n          return this._scrollRef.getNode();\n        } else {\n          return this._scrollRef;\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        return React.createElement(Component, _extends({\n          ref: function ref(view) {\n            _this2._scrollRef = view;\n          }\n        }, this.props));\n      }\n    }]);\n\n    return _class;\n  }(React.PureComponent), _defineProperty(_class, \"displayName\", \"withNavigationScrolling(\".concat(Component.displayName || Component.name, \")\")), _temp));\n\n  var NavigationAwareScrollable = function (_React$PureComponent2) {\n    _inherits(NavigationAwareScrollable, _React$PureComponent2);\n\n    function NavigationAwareScrollable() {\n      var _getPrototypeOf2;\n\n      var _this3;\n\n      _classCallCheck(this, NavigationAwareScrollable);\n\n      for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n        _args[_key] = arguments[_key];\n      }\n\n      _this3 = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(NavigationAwareScrollable)).call.apply(_getPrototypeOf2, [this].concat(_args)));\n\n      _defineProperty(_assertThisInitialized(_this3), \"_captureRef\", function (view) {\n        _this3._innerRef = view;\n        _this3.props.onRef && _this3.props.onRef(view);\n      });\n\n      _defineProperty(_assertThisInitialized(_this3), \"setNativeProps\", function () {\n        var _this3$_innerRef$getN;\n\n        return (_this3$_innerRef$getN = _this3._innerRef.getNode()).setNativeProps.apply(_this3$_innerRef$getN, arguments);\n      });\n\n      _defineProperty(_assertThisInitialized(_this3), \"getScrollResponder\", function () {\n        var _this3$_innerRef$getN2;\n\n        return (_this3$_innerRef$getN2 = _this3._innerRef.getNode()).getScrollResponder.apply(_this3$_innerRef$getN2, arguments);\n      });\n\n      _defineProperty(_assertThisInitialized(_this3), \"getScrollableNode\", function () {\n        var _this3$_innerRef$getN3;\n\n        return (_this3$_innerRef$getN3 = _this3._innerRef.getNode()).getScrollableNode.apply(_this3$_innerRef$getN3, arguments);\n      });\n\n      _defineProperty(_assertThisInitialized(_this3), \"getInnerViewNode\", function () {\n        var _this3$_innerRef$getN4;\n\n        return (_this3$_innerRef$getN4 = _this3._innerRef.getNode()).getInnerViewNode.apply(_this3$_innerRef$getN4, arguments);\n      });\n\n      _defineProperty(_assertThisInitialized(_this3), \"scrollTo\", function () {\n        var _this3$_innerRef$getN5;\n\n        return (_this3$_innerRef$getN5 = _this3._innerRef.getNode()).scrollTo.apply(_this3$_innerRef$getN5, arguments);\n      });\n\n      _defineProperty(_assertThisInitialized(_this3), \"scrollToEnd\", function () {\n        var _this3$_innerRef$getN6;\n\n        return (_this3$_innerRef$getN6 = _this3._innerRef.getNode()).scrollToEnd.apply(_this3$_innerRef$getN6, arguments);\n      });\n\n      _defineProperty(_assertThisInitialized(_this3), \"scrollWithoutAnimationTo\", function () {\n        var _this3$_innerRef$getN7;\n\n        return (_this3$_innerRef$getN7 = _this3._innerRef.getNode()).scrollWithoutAnimationTo.apply(_this3$_innerRef$getN7, arguments);\n      });\n\n      _defineProperty(_assertThisInitialized(_this3), \"flashScrollIndicators\", function () {\n        var _this3$_innerRef$getN8;\n\n        return (_this3$_innerRef$getN8 = _this3._innerRef.getNode()).flashScrollIndicators.apply(_this3$_innerRef$getN8, arguments);\n      });\n\n      return _this3;\n    }\n\n    _createClass(NavigationAwareScrollable, [{\n      key: \"render\",\n      value: function render() {\n        return React.createElement(ComponentWithNavigationScrolling, _extends({}, this.props, {\n          onRef: this._captureRef\n        }));\n      }\n    }]);\n\n    return NavigationAwareScrollable;\n  }(React.PureComponent);\n\n  _defineProperty(NavigationAwareScrollable, \"displayName\", \"NavigationAwareScrollable(\".concat(Component.displayName || Component.name, \")\"));\n\n  return hoistStatics(NavigationAwareScrollable, Component);\n}","map":{"version":3,"sources":["createNavigationAwareScrollable.js"],"names":["ComponentWithNavigationScrolling","withNavigation","React","Component","scrollableNode","y","view","_captureRef","hoistStatics"],"mappings":"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","sourcesContent":["import React from 'react';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { withNavigation } from '@react-navigation/core';\n\nexport default function createNavigationAwareScrollable(Component) {\n  const ComponentWithNavigationScrolling = withNavigation(\n    class extends React.PureComponent<any> {\n      static displayName = `withNavigationScrolling(${Component.displayName ||\n        Component.name})`;\n\n      componentDidMount() {\n        this._subscription = this.props.navigation.addListener(\n          'refocus',\n          () => {\n            const scrollableNode = this.getNode();\n            if (this.props.navigation.isFocused() && scrollableNode !== null) {\n              if (scrollableNode.scrollToTop != null) {\n                scrollableNode.scrollToTop();\n              } else if (scrollableNode.scrollTo != null) {\n                scrollableNode.scrollTo({ y: 0 });\n              } else if (scrollableNode.scrollResponderScrollTo != null) {\n                scrollableNode.scrollResponderScrollTo({ y: 0 });\n              }\n            }\n          }\n        );\n      }\n\n      componentWillUnmount() {\n        if (this._subscription != null) {\n          this._subscription.remove();\n        }\n      }\n\n      getNode() {\n        if (this._scrollRef === null) {\n          return null;\n        }\n\n        if (this._scrollRef.getScrollResponder) {\n          return this._scrollRef.getScrollResponder();\n        } else if (this._scrollRef.getNode) {\n          return this._scrollRef.getNode();\n        } else {\n          return this._scrollRef;\n        }\n      }\n\n      render() {\n        return (\n          <Component\n            ref={view => {\n              this._scrollRef = view;\n            }}\n            {...this.props}\n          />\n        );\n      }\n    }\n  );\n\n  class NavigationAwareScrollable extends React.PureComponent<any> {\n    static displayName = `NavigationAwareScrollable(${Component.displayName ||\n      Component.name})`;\n\n    _captureRef = view => {\n      this._innerRef = view;\n      this.props.onRef && this.props.onRef(view);\n    };\n\n    setNativeProps = (...args) => {\n      return this._innerRef.getNode().setNativeProps(...args);\n    };\n\n    getScrollResponder = (...args) => {\n      return this._innerRef.getNode().getScrollResponder(...args);\n    };\n\n    getScrollableNode = (...args) => {\n      return this._innerRef.getNode().getScrollableNode(...args);\n    };\n\n    getInnerViewNode = (...args) => {\n      return this._innerRef.getNode().getInnerViewNode(...args);\n    };\n\n    scrollTo = (...args) => {\n      return this._innerRef.getNode().scrollTo(...args);\n    };\n\n    scrollToEnd = (...args) => {\n      return this._innerRef.getNode().scrollToEnd(...args);\n    };\n\n    scrollWithoutAnimationTo = (...args) => {\n      return this._innerRef.getNode().scrollWithoutAnimationTo(...args);\n    };\n\n    flashScrollIndicators = (...args) => {\n      return this._innerRef.getNode().flashScrollIndicators(...args);\n    };\n\n    render() {\n      return (\n        <ComponentWithNavigationScrolling\n          {...this.props}\n          onRef={this._captureRef}\n        />\n      );\n    }\n  }\n\n  return hoistStatics(NavigationAwareScrollable, Component);\n}\n"]},"metadata":{},"sourceType":"module"}